Usage: . websocket.sh
Websocket connection and functions

ws-start
    Starts the ws connection and dispatch the events

ws-send {OP_CODE}
    Sends the JSON data from the STDIN to the gateway
        OP_CODE: The opcode for the operation

ws-kill {SHARD}
    Kills the connection

ewait {CONDITION} [TIMEOUT]
    Watches the log until it finds a event that meet
    the jq condition, and outputs it
        CONDITION: A Jq string that returns a boolean
        TIMEOUT: In seconds, 0 for never expire
